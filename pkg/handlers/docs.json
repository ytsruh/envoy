{
	"openapi": "3.0.3",
	"info": {
		"title": "Envoy API Documentation",
		"description": "Interactive API documentation for Envoy platform project management API"
	},
	"components": {
		"securitySchemes": {
			"BearerAuth": {
				"type": "http",
				"scheme": "bearer",
				"bearerFormat": "JWT",
				"description": "JWT authentication token"
			}
		},
		"schemas": {
			"Error": {
				"type": "object",
				"properties": {
					"error": {
						"type": "string",
						"description": "Error message describing what went wrong"
					}
				}
			},
			"AuthResponse": {
				"type": "object",
				"properties": {
					"token": {
						"type": "string",
						"description": "JWT authentication token"
					},
					"user": {
						"$ref": "#/components/schemas/UserData"
					}
				}
			},
			"UserData": {
				"type": "object",
				"properties": {
					"id": {
						"type": "string",
						"description": "Unique user identifier"
					},
					"name": {
						"type": "string",
						"description": "User's full name"
					},
					"email": {
						"type": "string",
						"format": "email",
						"description": "User's email address"
					},
					"created_at": {
						"type": "string",
						"format": "date-time",
						"description": "Timestamp when user was created"
					}
				}
			},
			"RegisterRequest": {
				"type": "object",
				"required": ["name", "email", "password"],
				"properties": {
					"name": {
						"type": "string",
						"description": "User's full name",
						"minLength": 1
					},
					"email": {
						"type": "string",
						"format": "email",
						"description": "User's email address"
					},
					"password": {
						"type": "string",
						"format": "password",
						"minLength": 8,
						"description": "User's password (minimum 8 characters)"
					}
				}
			},
			"LoginRequest": {
				"type": "object",
				"required": ["email", "password"],
				"properties": {
					"email": {
						"type": "string",
						"format": "email",
						"description": "User's email address"
					},
					"password": {
						"type": "string",
						"format": "password",
						"description": "User's password"
					}
				}
			},
			"ProfileResponse": {
				"type": "object",
				"properties": {
					"user_id": {
						"type": "string",
						"description": "Unique user identifier"
					},
					"email": {
						"type": "string",
						"format": "email",
						"description": "User's email address"
					},
					"issued_at": {
						"type": "integer",
						"description": "JWT token issue timestamp (Unix epoch)"
					},
					"expires_at": {
						"type": "integer",
						"description": "JWT token expiration timestamp (Unix epoch)"
					}
				}
			},
			"ProjectResponse": {
				"type": "object",
				"properties": {
					"id": {
						"type": "integer",
						"format": "int64",
						"description": "Unique project identifier"
					},
					"name": {
						"type": "string",
						"description": "Project name"
					},
					"description": {
						"type": "string",
						"nullable": true,
						"description": "Project description (optional)"
					},
					"owner_id": {
						"type": "string",
						"description": "User ID of the project owner"
					},
					"created_at": {
						"type": "string",
						"format": "date-time",
						"description": "Timestamp when project was created"
					},
					"updated_at": {
						"type": "string",
						"format": "date-time",
						"description": "Timestamp when project was last updated"
					}
				}
			},
			"CreateProjectRequest": {
				"type": "object",
				"required": ["name"],
				"properties": {
					"name": {
						"type": "string",
						"description": "Project name",
						"minLength": 1
					},
					"description": {
						"type": "string",
						"maxLength": 500,
						"description": "Project description (optional, max 500 characters)"
					}
				}
			},
			"UpdateProjectRequest": {
				"type": "object",
				"required": ["name"],
				"properties": {
					"name": {
						"type": "string",
						"description": "Updated project name",
						"minLength": 1
					},
					"description": {
						"type": "string",
						"maxLength": 500,
						"description": "Updated project description (optional, max 500 characters)"
					}
				}
			},
			"AddUserRequest": {
				"type": "object",
				"required": ["user_id", "role"],
				"properties": {
					"user_id": {
						"type": "string",
						"description": "User ID to add to project"
					},
					"role": {
						"type": "string",
						"enum": ["viewer", "editor"],
						"description": "Role to assign to the user in the project"
					}
				}
			},
			"UpdateRoleRequest": {
				"type": "object",
				"required": ["role"],
				"properties": {
					"role": {
						"type": "string",
						"enum": ["viewer", "editor"],
						"description": "Updated role for the user in the project"
					}
				}
			},
			"ProjectUserResponse": {
				"type": "object",
				"properties": {
					"user_id": {
						"type": "string",
						"description": "User ID"
					},
					"role": {
						"type": "string",
						"enum": ["viewer", "editor"],
						"description": "User's role in the project"
					},
					"created_at": {
						"type": "string",
						"format": "date-time",
						"description": "Timestamp when user was added to project"
					}
				}
			},
			"UserProjectResponse": {
				"type": "object",
				"properties": {
					"id": {
						"type": "integer",
						"format": "int64",
						"description": "Project ID"
					},
					"name": {
						"type": "string",
						"description": "Project name"
					},
					"description": {
						"type": "string",
						"nullable": true,
						"description": "Project description"
					},
					"owner_id": {
						"type": "string",
						"description": "User ID of the project owner"
					},
					"user_role": {
						"type": "string",
						"enum": ["owner", "editor", "viewer"],
						"description": "Current user's role in this project"
					},
					"created_at": {
						"type": "string",
						"format": "date-time",
						"description": "Timestamp when project was created"
					},
					"updated_at": {
						"type": "string",
						"format": "date-time",
						"description": "Timestamp when project was last updated"
					}
				}
			},
	"EnvironmentResponse": {
		"type": "object",
		"properties": {
			"id": {
				"type": "integer",
				"format": "int64",
				"description": "Unique environment identifier"
			},
			"project_id": {
				"type": "integer",
				"format": "int64",
				"description": "ID of the project this environment belongs to"
			},
			"name": {
				"type": "string",
				"description": "Environment name"
			},
			"description": {
				"type": "string",
				"nullable": true,
				"description": "Environment description (optional)"
			},
			"created_at": {
				"type": "string",
				"format": "date-time",
				"description": "Timestamp when environment was created"
			},
			"updated_at": {
				"type": "string",
				"format": "date-time",
				"description": "Timestamp when environment was last updated"
			}
		}
	},
	"CreateEnvironmentRequest": {
		"type": "object",
		"required": ["name"],
		"properties": {
			"name": {
				"type": "string",
				"description": "Environment name",
				"minLength": 1,
				"maxLength": 100
			},
			"description": {
				"type": "string",
				"maxLength": 500,
				"description": "Environment description (optional, max 500 characters)"
			}
		}
	},
	"UpdateEnvironmentRequest": {
		"type": "object",
		"required": ["name"],
		"properties": {
			"name": {
				"type": "string",
				"description": "Updated environment name",
				"minLength": 1,
				"maxLength": 100
			},
			"description": {
				"type": "string",
				"maxLength": 500,
				"description": "Updated environment description (optional, max 500 characters)"
			}
		}
	},
	"HealthResponse": {
		"type": "object",
		"properties": {
			"health": {
				"type": "string",
				"enum": ["ok"],
				"description": "Health status"
			}
		}
	}
		}
	},
	"paths": {
		"/health": {
			"get": {
				"summary": "Health Check",
				"description": "Check if the API is running and healthy",
				"tags": ["Health"],
				"responses": {
					"200": {
						"description": "Service is healthy",
						"content": {
							"application/json": {
								"schema": {
									"$ref": "#/components/schemas/HealthResponse"
								}
							}
						}
					}
				}
			}
		},
		"/auth/register": {
			"post": {
				"summary": "Register User",
				"description": "Register a new user account",
				"tags": ["Authentication"],
				"requestBody": {
					"required": true,
					"content": {
						"application/json": {
							"schema": {
								"$ref": "#/components/schemas/RegisterRequest"
							}
						}
					}
				},
				"responses": {
					"201": {
						"description": "User registered successfully",
						"content": {
							"application/json": {
								"schema": {
									"$ref": "#/components/schemas/AuthResponse"
								}
							}
						}
					},
					"400": {
						"description": "Bad request - invalid input",
						"content": {
							"application/json": {
								"schema": {
									"$ref": "#/components/schemas/Error"
								}
							}
						}
					},
					"409": {
						"description": "Conflict - user already exists",
						"content": {
							"application/json": {
								"schema": {
									"$ref": "#/components/schemas/Error"
								}
							}
						}
					}
				}
			}
		},
		"/auth/login": {
			"post": {
				"summary": "User Login",
				"description": "Authenticate user and return JWT token",
				"tags": ["Authentication"],
				"requestBody": {
					"required": true,
					"content": {
						"application/json": {
							"schema": {
								"$ref": "#/components/schemas/LoginRequest"
							}
						}
					}
				},
				"responses": {
					"200": {
						"description": "Login successful",
						"content": {
							"application/json": {
								"schema": {
									"$ref": "#/components/schemas/AuthResponse"
								}
							}
						}
					},
					"400": {
						"description": "Bad request - invalid input",
						"content": {
							"application/json": {
								"schema": {
									"$ref": "#/components/schemas/Error"
								}
							}
						}
					},
					"401": {
						"description": "Unauthorized - invalid credentials",
						"content": {
							"application/json": {
								"schema": {
									"$ref": "#/components/schemas/Error"
								}
							}
						}
					}
				}
			}
		},
		"/auth/profile": {
			"get": {
				"summary": "Get User Profile",
				"description": "Get current user's profile information",
				"tags": ["Authentication"],
				"security": [{ "BearerAuth": [] }],
				"responses": {
					"200": {
						"description": "Profile retrieved successfully",
						"content": {
							"application/json": {
								"schema": {
									"$ref": "#/components/schemas/ProfileResponse"
								}
							}
						}
					},
					"401": {
						"description": "Unauthorized",
						"content": {
							"application/json": {
								"schema": {
									"$ref": "#/components/schemas/Error"
								}
							}
						}
					}
				}
			}
		},
		"/projects": {
			"get": {
				"summary": "List Projects",
				"description": "Get all projects accessible to the current user (owned + shared)",
				"tags": ["Projects"],
				"security": [{ "BearerAuth": [] }],
				"responses": {
					"200": {
						"description": "Projects retrieved successfully",
						"content": {
							"application/json": {
								"schema": {
									"type": "array",
									"items": {
										"$ref": "#/components/schemas/ProjectResponse"
									}
								}
							}
						}
					},
					"401": {
						"description": "Unauthorized",
						"content": {
							"application/json": {
								"schema": {
									"$ref": "#/components/schemas/Error"
								}
							}
						}
					}
				}
			},
			"post": {
				"summary": "Create Project",
				"description": "Create a new project",
				"tags": ["Projects"],
				"security": [{ "BearerAuth": [] }],
				"requestBody": {
					"required": true,
					"content": {
						"application/json": {
							"schema": {
								"$ref": "#/components/schemas/CreateProjectRequest"
							}
						}
					}
				},
				"responses": {
					"201": {
						"description": "Project created successfully",
						"content": {
							"application/json": {
								"schema": {
									"$ref": "#/components/schemas/ProjectResponse"
								}
							}
						}
					},
					"400": {
						"description": "Bad request - invalid input",
						"content": {
							"application/json": {
								"schema": {
									"$ref": "#/components/schemas/Error"
								}
							}
						}
					},
					"401": {
						"description": "Unauthorized",
						"content": {
							"application/json": {
								"schema": {
									"$ref": "#/components/schemas/Error"
								}
							}
						}
					}
				}
			}
		},
		"/projects/{id}": {
			"get": {
				"summary": "Get Project",
				"description": "Get a specific project by ID (if user has access)",
				"tags": ["Projects"],
				"security": [{ "BearerAuth": [] }],
				"parameters": [
					{
						"name": "id",
						"in": "path",
						"required": true,
						"schema": {
							"type": "integer",
							"format": "int64"
						},
						"description": "Project ID"
					}
				],
				"responses": {
					"200": {
						"description": "Project retrieved successfully",
						"content": {
							"application/json": {
								"schema": {
									"$ref": "#/components/schemas/ProjectResponse"
								}
							}
						}
					},
					"400": {
						"description": "Bad request - invalid project ID",
						"content": {
							"application/json": {
								"schema": {
									"$ref": "#/components/schemas/Error"
								}
							}
						}
					},
					"401": {
						"description": "Unauthorized",
						"content": {
							"application/json": {
								"schema": {
									"$ref": "#/components/schemas/Error"
								}
							}
						}
					},
					"404": {
						"description": "Project not found or access denied",
						"content": {
							"application/json": {
								"schema": {
									"$ref": "#/components/schemas/Error"
								}
							}
						}
					}
				}
			},
			"put": {
				"summary": "Update Project",
				"description": "Update a project (only owner or editors can modify)",
				"tags": ["Projects"],
				"security": [{ "BearerAuth": [] }],
				"parameters": [
					{
						"name": "id",
						"in": "path",
						"required": true,
						"schema": {
							"type": "integer",
							"format": "int64"
						},
						"description": "Project ID"
					}
				],
				"requestBody": {
					"required": true,
					"content": {
						"application/json": {
							"schema": {
								"$ref": "#/components/schemas/UpdateProjectRequest"
							}
						}
					}
				},
				"responses": {
					"200": {
						"description": "Project updated successfully",
						"content": {
							"application/json": {
								"schema": {
									"$ref": "#/components/schemas/ProjectResponse"
								}
							}
						}
					},
					"400": {
						"description": "Bad request - invalid input",
						"content": {
							"application/json": {
								"schema": {
									"$ref": "#/components/schemas/Error"
								}
							}
						}
					},
					"401": {
						"description": "Unauthorized",
						"content": {
							"application/json": {
								"schema": {
									"$ref": "#/components/schemas/Error"
								}
							}
						}
					},
					"403": {
						"description": "Forbidden - access denied",
						"content": {
							"application/json": {
								"schema": {
									"$ref": "#/components/schemas/Error"
								}
							}
						}
					},
					"404": {
						"description": "Project not found",
						"content": {
							"application/json": {
								"schema": {
									"$ref": "#/components/schemas/Error"
								}
							}
						}
					}
				}
			},
			"delete": {
				"summary": "Delete Project",
				"description": "Delete a project (only project owners can delete)",
				"tags": ["Projects"],
				"security": [{ "BearerAuth": [] }],
				"parameters": [
					{
						"name": "id",
						"in": "path",
						"required": true,
						"schema": {
							"type": "integer",
							"format": "int64"
						},
						"description": "Project ID"
					}
				],
				"responses": {
					"200": {
						"description": "Project deleted successfully",
						"content": {
							"application/json": {
								"schema": {
									"type": "object",
									"properties": {
										"message": {
											"type": "string",
											"example": "Project deleted successfully"
										}
									}
								}
							}
						}
					},
					"400": {
						"description": "Bad request - invalid project ID",
						"content": {
							"application/json": {
								"schema": {
									"$ref": "#/components/schemas/Error"
								}
							}
						}
					},
					"401": {
						"description": "Unauthorized",
						"content": {
							"application/json": {
								"schema": {
									"$ref": "#/components/schemas/Error"
								}
							}
						}
					},
					"403": {
						"description": "Forbidden - only project owners can delete projects",
						"content": {
							"application/json": {
								"schema": {
									"$ref": "#/components/schemas/Error"
								}
							}
						}
					}
				}
			}
		},
		"/projects/{id}/members": {
			"get": {
				"summary": "Get Project Members",
				"description": "Get all members of a specific project",
				"tags": ["Project Sharing"],
				"security": [{ "BearerAuth": [] }],
				"parameters": [
					{
						"name": "id",
						"in": "path",
						"required": true,
						"schema": {
							"type": "integer",
							"format": "int64"
						},
						"description": "Project ID"
					}
				],
				"responses": {
					"200": {
						"description": "Project members retrieved successfully",
						"content": {
							"application/json": {
								"schema": {
									"type": "array",
									"items": {
										"$ref": "#/components/schemas/ProjectUserResponse"
									}
								}
							}
						}
					},
					"401": {
						"description": "Unauthorized",
						"content": {
							"application/json": {
								"schema": {
									"$ref": "#/components/schemas/Error"
								}
							}
						}
					},
					"404": {
						"description": "Project not found or access denied",
						"content": {
							"application/json": {
								"schema": {
									"$ref": "#/components/schemas/Error"
								}
							}
						}
					}
				}
			},
			"post": {
				"summary": "Add User to Project",
				"description": "Add a user to a project with a specific role",
				"tags": ["Project Sharing"],
				"security": [{ "BearerAuth": [] }],
				"parameters": [
					{
						"name": "id",
						"in": "path",
						"required": true,
						"schema": {
							"type": "integer",
							"format": "int64"
						},
						"description": "Project ID"
					}
				],
				"requestBody": {
					"required": true,
					"content": {
						"application/json": {
							"schema": {
								"$ref": "#/components/schemas/AddUserRequest"
							}
						}
					}
				},
				"responses": {
					"200": {
						"description": "User added to project successfully",
						"content": {
							"application/json": {
								"schema": {
									"$ref": "#/components/schemas/ProjectUserResponse"
								}
							}
						}
					},
					"400": {
						"description": "Bad request - invalid input",
						"content": {
							"application/json": {
								"schema": {
									"$ref": "#/components/schemas/Error"
								}
							}
						}
					},
					"401": {
						"description": "Unauthorized",
						"content": {
							"application/json": {
								"schema": {
									"$ref": "#/components/schemas/Error"
								}
							}
						}
					},
					"403": {
						"description": "Forbidden - access denied",
						"content": {
							"application/json": {
								"schema": {
									"$ref": "#/components/schemas/Error"
								}
							}
						}
					}
				}
			}
		},
		"/projects/{id}/members/{user_id}": {
			"put": {
				"summary": "Update User Role in Project",
				"description": "Update a user's role in a project",
				"tags": ["Project Sharing"],
				"security": [{ "BearerAuth": [] }],
				"parameters": [
					{
						"name": "id",
						"in": "path",
						"required": true,
						"schema": {
							"type": "integer",
							"format": "int64"
						},
						"description": "Project ID"
					},
					{
						"name": "user_id",
						"in": "path",
						"required": true,
						"schema": {
							"type": "string"
						},
						"description": "User ID to update"
					}
				],
				"requestBody": {
					"required": true,
					"content": {
						"application/json": {
							"schema": {
								"$ref": "#/components/schemas/UpdateRoleRequest"
							}
						}
					}
				},
				"responses": {
					"200": {
						"description": "User role updated successfully",
						"content": {
							"application/json": {
								"schema": {
									"$ref": "#/components/schemas/ProjectUserResponse"
								}
							}
						}
					},
					"400": {
						"description": "Bad request - invalid input",
						"content": {
							"application/json": {
								"schema": {
									"$ref": "#/components/schemas/Error"
								}
							}
						}
					},
					"401": {
						"description": "Unauthorized",
						"content": {
							"application/json": {
								"schema": {
									"$ref": "#/components/schemas/Error"
								}
							}
						}
					},
					"403": {
						"description": "Forbidden - access denied",
						"content": {
							"application/json": {
								"schema": {
									"$ref": "#/components/schemas/Error"
								}
							}
						}
					},
					"404": {
						"description": "User or project not found",
						"content": {
							"application/json": {
								"schema": {
									"$ref": "#/components/schemas/Error"
								}
							}
						}
					}
				}
			},
			"delete": {
				"summary": "Remove User from Project",
				"description": "Remove a user from a project",
				"tags": ["Project Sharing"],
				"security": [{ "BearerAuth": [] }],
				"parameters": [
					{
						"name": "id",
						"in": "path",
						"required": true,
						"schema": {
							"type": "integer",
							"format": "int64"
						},
						"description": "Project ID"
					},
					{
						"name": "user_id",
						"in": "path",
						"required": true,
						"schema": {
							"type": "string"
						},
						"description": "User ID to remove"
					}
				],
				"responses": {
					"200": {
						"description": "User removed from project successfully",
						"content": {
							"application/json": {
								"schema": {
									"type": "object",
									"properties": {
										"message": {
											"type": "string",
											"example": "User removed from project successfully"
										}
									}
								}
							}
						}
					},
					"401": {
						"description": "Unauthorized",
						"content": {
							"application/json": {
								"schema": {
									"$ref": "#/components/schemas/Error"
								}
							}
						}
					},
					"403": {
						"description": "Forbidden - access denied",
						"content": {
							"application/json": {
								"schema": {
									"$ref": "#/components/schemas/Error"
								}
							}
						}
					},
					"404": {
						"description": "User or project not found",
						"content": {
							"application/json": {
								"schema": {
									"$ref": "#/components/schemas/Error"
								}
							}
						}
					}
				}
			}
		},
		"/user/projects": {
			"get": {
				"summary": "List User Projects",
				"description": "List all projects accessible to user (owned + shared) with user's role",
				"tags": ["Project Sharing"],
				"security": [{ "BearerAuth": [] }],
				"responses": {
					"200": {
						"description": "User projects retrieved successfully",
						"content": {
							"application/json": {
								"schema": {
									"type": "array",
									"items": {
										"$ref": "#/components/schemas/UserProjectResponse"
									}
								}
							}
						}
					},
					"401": {
						"description": "Unauthorized",
						"content": {
							"application/json": {
								"schema": {
									"$ref": "#/components/schemas/Error"
								}
							}
						}
					}
				}
			}
		},
		"/projects/{project_id}/environments": {
			"get": {
				"summary": "List Environments",
				"description": "Get all environments for a specific project",
				"tags": ["Environments"],
				"security": [{ "BearerAuth": [] }],
				"parameters": [
					{
						"name": "project_id",
						"in": "path",
						"required": true,
						"schema": {
							"type": "integer",
							"format": "int64"
						},
						"description": "Project ID"
					}
				],
				"responses": {
					"200": {
						"description": "Environments retrieved successfully",
						"content": {
							"application/json": {
								"schema": {
									"type": "array",
									"items": {
										"$ref": "#/components/schemas/EnvironmentResponse"
									}
								}
							}
						}
					},
					"400": {
						"description": "Bad request - invalid project ID",
						"content": {
							"application/json": {
								"schema": {
									"$ref": "#/components/schemas/Error"
								}
							}
						}
					},
					"401": {
						"description": "Unauthorized",
						"content": {
							"application/json": {
								"schema": {
									"$ref": "#/components/schemas/Error"
								}
							}
						}
					},
					"403": {
						"description": "Forbidden - access denied",
						"content": {
							"application/json": {
								"schema": {
									"$ref": "#/components/schemas/Error"
								}
							}
						}
					}
				}
			},
			"post": {
				"summary": "Create Environment",
				"description": "Create a new environment within a project",
				"tags": ["Environments"],
				"security": [{ "BearerAuth": [] }],
				"parameters": [
					{
						"name": "project_id",
						"in": "path",
						"required": true,
						"schema": {
							"type": "integer",
							"format": "int64"
						},
						"description": "Project ID"
					}
				],
				"requestBody": {
					"required": true,
					"content": {
						"application/json": {
							"schema": {
								"$ref": "#/components/schemas/CreateEnvironmentRequest"
							}
						}
					}
				},
				"responses": {
					"201": {
						"description": "Environment created successfully",
						"content": {
							"application/json": {
								"schema": {
									"$ref": "#/components/schemas/EnvironmentResponse"
								}
							}
						}
					},
					"400": {
						"description": "Bad request - invalid input",
						"content": {
							"application/json": {
								"schema": {
									"$ref": "#/components/schemas/Error"
								}
							}
						}
					},
					"401": {
						"description": "Unauthorized",
						"content": {
							"application/json": {
								"schema": {
									"$ref": "#/components/schemas/Error"
								}
							}
						}
					},
					"403": {
						"description": "Forbidden - access denied",
						"content": {
							"application/json": {
								"schema": {
									"$ref": "#/components/schemas/Error"
								}
							}
						}
					}
				}
			}
		},
		"/projects/{project_id}/environments/{id}": {
			"get": {
				"summary": "Get Environment",
				"description": "Get a specific environment by ID",
				"tags": ["Environments"],
				"security": [{ "BearerAuth": [] }],
				"parameters": [
					{
						"name": "project_id",
						"in": "path",
						"required": true,
						"schema": {
							"type": "integer",
							"format": "int64"
						},
						"description": "Project ID"
					},
					{
						"name": "id",
						"in": "path",
						"required": true,
						"schema": {
							"type": "integer",
							"format": "int64"
						},
						"description": "Environment ID"
					}
				],
				"responses": {
					"200": {
						"description": "Environment retrieved successfully",
						"content": {
							"application/json": {
								"schema": {
									"$ref": "#/components/schemas/EnvironmentResponse"
								}
							}
						}
					},
					"400": {
						"description": "Bad request - invalid project or environment ID",
						"content": {
							"application/json": {
								"schema": {
									"$ref": "#/components/schemas/Error"
								}
							}
						}
					},
					"401": {
						"description": "Unauthorized",
						"content": {
							"application/json": {
								"schema": {
									"$ref": "#/components/schemas/Error"
								}
							}
						}
					},
					"403": {
						"description": "Forbidden - access denied",
						"content": {
							"application/json": {
								"schema": {
									"$ref": "#/components/schemas/Error"
								}
							}
						}
					},
					"404": {
						"description": "Environment not found or access denied",
						"content": {
							"application/json": {
								"schema": {
									"$ref": "#/components/schemas/Error"
								}
							}
						}
					}
				}
			},
			"put": {
				"summary": "Update Environment",
				"description": "Update an environment (only owner or editors can modify)",
				"tags": ["Environments"],
				"security": [{ "BearerAuth": [] }],
				"parameters": [
					{
						"name": "project_id",
						"in": "path",
						"required": true,
						"schema": {
							"type": "integer",
							"format": "int64"
						},
						"description": "Project ID"
					},
					{
						"name": "id",
						"in": "path",
						"required": true,
						"schema": {
							"type": "integer",
							"format": "int64"
						},
						"description": "Environment ID"
					}
				],
				"requestBody": {
					"required": true,
					"content": {
						"application/json": {
							"schema": {
								"$ref": "#/components/schemas/UpdateEnvironmentRequest"
							}
						}
					}
				},
				"responses": {
					"200": {
						"description": "Environment updated successfully",
						"content": {
							"application/json": {
								"schema": {
									"$ref": "#/components/schemas/EnvironmentResponse"
								}
							}
						}
					},
					"400": {
						"description": "Bad request - invalid input",
						"content": {
							"application/json": {
								"schema": {
									"$ref": "#/components/schemas/Error"
								}
							}
						}
					},
					"401": {
						"description": "Unauthorized",
						"content": {
							"application/json": {
								"schema": {
									"$ref": "#/components/schemas/Error"
								}
							}
						}
					},
					"403": {
						"description": "Forbidden - access denied",
						"content": {
							"application/json": {
								"schema": {
									"$ref": "#/components/schemas/Error"
								}
							}
						}
					},
					"404": {
						"description": "Environment not found",
						"content": {
							"application/json": {
								"schema": {
									"$ref": "#/components/schemas/Error"
								}
							}
						}
					}
				}
			},
			"delete": {
				"summary": "Delete Environment",
				"description": "Delete an environment (only owner or editors can delete)",
				"tags": ["Environments"],
				"security": [{ "BearerAuth": [] }],
				"parameters": [
					{
						"name": "project_id",
						"in": "path",
						"required": true,
						"schema": {
							"type": "integer",
							"format": "int64"
						},
						"description": "Project ID"
					},
					{
						"name": "id",
						"in": "path",
						"required": true,
						"schema": {
							"type": "integer",
							"format": "int64"
						},
						"description": "Environment ID"
					}
				],
				"responses": {
					"200": {
						"description": "Environment deleted successfully",
						"content": {
							"application/json": {
								"schema": {
									"type": "object",
									"properties": {
										"message": {
											"type": "string",
											"example": "Environment deleted successfully"
										}
									}
								}
							}
						}
					},
					"400": {
						"description": "Bad request - invalid project or environment ID",
						"content": {
							"application/json": {
								"schema": {
									"$ref": "#/components/schemas/Error"
								}
							}
						}
					},
					"401": {
						"description": "Unauthorized",
						"content": {
							"application/json": {
								"schema": {
									"$ref": "#/components/schemas/Error"
								}
							}
						}
					},
					"403": {
						"description": "Forbidden - access denied",
						"content": {
							"application/json": {
								"schema": {
									"$ref": "#/components/schemas/Error"
								}
							}
						}
					},
					"404": {
						"description": "Environment not found",
						"content": {
							"application/json": {
								"schema": {
									"$ref": "#/components/schemas/Error"
								}
							}
						}
					}
				}
			}
		}
	},
	"tags": [
		{
			"name": "Health",
			"description": "Health check endpoints"
		},
		{
			"name": "Authentication",
			"description": "User authentication and profile management"
		},
		{
			"name": "Projects",
			"description": "Project management operations"
		},
		{
			"name": "Project Sharing",
			"description": "Project sharing and collaboration features"
		},
		{
			"name": "Environments",
			"description": "Environment management operations"
		}
	]
}
